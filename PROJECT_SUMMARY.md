# 📋 프로젝트 요약

## 🎯 프로젝트 개요

**RAG 교육 챗봇**은 사용자의 RAG(Retrieval-Augmented Generation) 학습을 단계별로 돕는 지능형 교육 시스템입니다.

### 핵심 특징

1. **적응형 학습 경로**
   - 사용자의 경험 수준 자동 감지 (초보~전문가)
   - 맞춤형 설명 스타일 제공
   - 개인화된 학습 추천

2. **지식 갭 분석**
   - 모르는 용어 자동 추출
   - 선수 지식 추천
   - 개념 간 연결 매핑

3. **실전 중심 가이드**
   - 단계별 체크리스트
   - 도구/라이브러리 추천
   - 아키텍처 옵션 비교

4. **복잡한 워크플로우 관리**
   - LangGraph 기반 14개 노드
   - 조건부 분기 지원
   - 상태 기반 의사결정

## 🏗️ 아키텍처

### 기술 스택

| 컴포넌트 | 기술 | 역할 |
|---------|------|------|
| **워크플로우** | LangGraph | 복잡한 그래프 기반 처리 흐름 |
| **UI** | Gradio | 사용자 인터페이스 |
| **LLM** | OpenAI API | 자연어 이해 및 생성 |
| **타입 시스템** | Pydantic | 데이터 검증 및 타입 안정성 |
| **상태 관리** | TypedDict | 그래프 상태 관리 |

### 시스템 구조

```
┌─────────────────────────────────────────────────────┐
│                    Gradio UI                        │
│              (app.py - 사용자 인터페이스)              │
└─────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────┐
│                  LangGraph Engine                   │
│             (graph.py - 워크플로우 엔진)              │
└─────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────┐
│                  14개 처리 노드                       │
│    (src/nodes/ - 각 단계별 전문 처리 모듈)            │
│                                                     │
│  1. DomainBootstrap    8. PlanAnswer               │
│  2. UserSignals        9. ToolAdvisors             │
│  3. ColdstartProbe    10. GapMining                │
│  4. InferLevel        11. ComposeAnswer            │
│  5. AdaptiveDiagnostic 12. QualityGate            │
│  6. IntentDetect      13. MemoryWrite              │
│  7. TaxonomyMap       14. Deliver                  │
└─────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────┐
│                   상태 관리층                         │
│        (state.py - 전역 상태 스키마)                  │
│                                                     │
│  • User (사용자 프로필)                              │
│  • Signals (추출된 신호)                             │
│  • Mastery (숙련도 추정)                             │
│  • Intent (의도 분류)                                │
│  • Plan (답변 플랜)                                  │
│  • Gaps (지식 갭)                                    │
│  • Answer (최종 답변)                                │
└─────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────┐
│                 도메인 지식 베이스                     │
│      (utils/domain_data.py - RAG 전문 지식)         │
│                                                     │
│  • Taxonomy (개념 계층)                              │
│  • Glossary (용어 사전)                              │
│  • QuestionBank (진단 퀴즈)                          │
│  • ToolRecipes (권장 구성)                           │
└─────────────────────────────────────────────────────┘
```

## 📊 처리 흐름

### 메인 워크플로우

```
사용자 입력
    ↓
┌─────────────────────┐
│ 1. DomainBootstrap  │ - 전문가 페르소나 로드
│    (전문가 부팅)      │ - 도메인 지식 팩 활성화
└─────────────────────┘
    ↓
┌─────────────────────┐
│ 2. UserSignals      │ - 용어/기술 추출
│    (신호 추출)        │ - 코드 패턴 감지
└─────────────────────┘
    ↓
    ┌───────────────────┐
    │ 신호 충분한가?      │
    └───────────────────┘
       Yes ↓      ↓ No
           ↓      ↓
           ↓   ┌─────────────────────┐
           ↓   │ 3. ColdstartProbe   │ - 경험 수준 질문
           ↓   │    (초기 진단)       │ - 제약사항 수집
           ↓   └─────────────────────┘
           ↓      ↓
    ┌─────────────────────┐
    │ 4. InferLevel       │ - 개념별 숙련도 추정
    │    (레벨 추정)       │ - 약한 영역 식별
    └─────────────────────┘
           ↓
    ┌───────────────────┐
    │ 진단 필요한가?     │
    └───────────────────┘
       Yes ↓      ↓ No
           ↓      ↓
    ┌─────────────────────┐
    │ 5. AdaptiveDiagnostic│ - 맞춤 퀴즈 생성
    │    (진단 퀴즈)       │  - 숙련도 업데이트
    └─────────────────────┘
           ↓
    ┌─────────────────────┐
    │ 6. IntentDetect     │ - 의도 분류 (설계/구현/평가 등)
    │    (의도 분석)       │ - 필수 산출물 결정
    └─────────────────────┘
           ↓
    ┌─────────────────────┐
    │ 7. TaxonomyMap      │ - 관련 개념 매핑
    │    (개념 매핑)       │ - 선수지식 확장
    └─────────────────────┘
           ↓
    ┌─────────────────────┐
    │ 8. PlanAnswer       │ - 답변 플랜 생성
    │    (플랜 수립)       │ - 단계/옵션/트레이드오프
    └─────────────────────┘
           ↓
    ┌───────────────────┐
    │ 도구 추천 필요?    │
    └───────────────────┘
       Yes ↓      ↓ No
           ↓      ↓
    ┌─────────────────────┐
    │ 9. ToolAdvisors     │ - 임베딩/재랭커 추천
    │    (도구 추천)       │ - 장단점/비용 분석
    └─────────────────────┘
           ↓
    ┌─────────────────────┐
    │ 10. GapMining       │ - 미지 용어 랭킹
    │     (갭 분석)        │ - 선수지식 추천
    └─────────────────────┘
           ↓
    ┌─────────────────────┐
    │ 11. ComposeAnswer   │ - 섹션별 답변 구성
    │     (답변 구성)      │ - 레벨 적응형 톤
    └─────────────────────┘
           ↓
    ┌─────────────────────┐
    │ 12. QualityGate     │ - 일관성 체크
    │     (품질 검수)      │ - 반례 탐색
    └─────────────────────┘
           ↓
    ┌─────────────────────┐
    │ 13. MemoryWrite     │ - 상호작용 로그
    │     (메모리 저장)    │ - 숙련도 스냅샷
    └─────────────────────┘
           ↓
    ┌─────────────────────┐
    │ 14. Deliver         │ - 최종 응답 전달
    │     (전달)           │ - 다음 액션 제안
    └─────────────────────┘
           ↓
      사용자에게 응답
```

## 📦 파일 구조

```
rag_edu/
│
├── 📄 README.md              # 프로젝트 설명 및 상세 설계
├── 📄 QUICKSTART.md          # 빠른 시작 가이드
├── 📄 SETUP.md               # 상세 설치 가이드
├── 📄 PROJECT_SUMMARY.md     # 이 문서
│
├── 📄 requirements.txt       # Python 의존성
├── 📄 install.sh             # 설치 스크립트
├── 📄 test_simple.py         # 구조 테스트
├── 📄 app.py                 # Gradio UI 진입점
│
└── 📁 src/
    ├── 📄 __init__.py
    ├── 📄 state.py           # 상태 스키마 (GraphState, Pydantic models)
    ├── 📄 graph.py           # LangGraph 그래프 구성
    │
    ├── 📁 nodes/             # 14개 처리 노드
    │   ├── 📄 __init__.py
    │   ├── 📄 domain_bootstrap.py    # 1. 전문가 부팅
    │   ├── 📄 user_signals.py        # 2. 신호 추출
    │   ├── 📄 coldstart_probe.py     # 3. 초기 진단
    │   ├── 📄 infer_level.py         # 4. 레벨 추정
    │   ├── 📄 adaptive_diagnostic.py # 5. 진단 퀴즈
    │   ├── 📄 intent_detect.py       # 6. 의도 분석
    │   ├── 📄 taxonomy_map.py        # 7. 개념 매핑
    │   ├── 📄 plan_answer.py         # 8. 플랜 수립
    │   ├── 📄 tool_advisors.py       # 9. 도구 추천
    │   ├── 📄 gap_mining.py          # 10. 갭 분석
    │   ├── 📄 compose_answer.py      # 11. 답변 구성
    │   ├── 📄 quality_gate.py        # 12. 품질 검수
    │   ├── 📄 memory_write.py        # 13. 메모리 저장
    │   └── 📄 deliver.py             # 14. 전달
    │
    └── 📁 utils/
        ├── 📄 __init__.py
        └── 📄 domain_data.py         # RAG 도메인 지식
                                       # - Taxonomy (10개 개념)
                                       # - Glossary (20개 용어)
                                       # - QuestionBank (5개 문항)
                                       # - ToolRecipes (3개 레시피)
```

## 🎓 핵심 개념

### 1. 상태 기반 설계

모든 노드는 `GraphState`를 공유하며, 각자 필요한 필드만 업데이트합니다.

```python
class GraphState(TypedDict):
    user_message: str
    user: User
    signals: Signals
    mastery: Mastery
    intent: Intent
    # ... 등등
```

### 2. 조건부 분기

사용자 상황에 따라 워크플로우가 동적으로 변경됩니다.

- 신호 부족 → ColdstartProbe
- 숙련도 불확실 → AdaptiveDiagnostic  
- 중급 이상 → ToolAdvisors

### 3. 도메인 지식 기반

RAG 분야의 체계화된 지식을 내장:

- **Taxonomy**: 10개 개념의 계층 구조
- **Glossary**: 20개 핵심 용어 정의
- **QuestionBank**: 진단용 문항
- **ToolRecipes**: 레벨별 권장 구성

### 4. 적응형 학습

- 경험 수준 감지 (0~3)
- 용어/기술 스택 추출
- 개념별 숙련도 추정 (0.0~1.0)
- 지식 갭 자동 발견

## 🔧 확장 가능성

### 쉽게 확장 가능한 부분

1. **도메인 추가**
   - `domain_data.py`에 새 분야 지식 추가
   - Taxonomy, Glossary 확장

2. **노드 추가**
   - 새 처리 단계 구현
   - `graph.py`에서 연결

3. **평가 지표**
   - 사용자 피드백 수집
   - A/B 테스트 지원

4. **외부 통합**
   - 논문 검색 API 연동
   - 코드 실행 환경 연동

### 향후 개선 방향

1. **실시간 논문 검색**
   - Semantic Scholar API
   - ArXiv 연동

2. **코드 실행 환경**
   - Jupyter 노트북 통합
   - 샌드박스 환경

3. **퀴즈 시스템**
   - 인터랙티브 평가
   - 게임화 요소

4. **다중 사용자**
   - 세션 관리
   - 진행도 저장
   - 리더보드

## 📈 성능 특성

- **처리 시간**: ~3-5초 (LLM 호출 제외)
- **메모리**: ~100MB (기본 구성)
- **확장성**: 무상태 → 수평 확장 가능
- **안정성**: 실패 시 대안 경로 제공

## 🎯 사용 사례

### 1. 개인 학습

- RAG 초보자가 단계별로 학습
- 개념 갭 자동 감지 및 보충

### 2. 팀 온보딩

- 신입 개발자 교육
- 표준화된 학습 경로

### 3. 컨설팅

- 프로젝트별 맞춤 추천
- 아키텍처 의사결정 지원

### 4. 연구/개발

- 최신 트렌드 파악
- 기법 비교 분석

## 📚 참고 자료

- **LangGraph 문서**: https://langchain-ai.github.io/langgraph/
- **Gradio 문서**: https://www.gradio.app/
- **RAG 가이드**: https://python.langchain.com/docs/use_cases/question_answering/

## 👥 기여 방법

1. Fork 프로젝트
2. Feature 브랜치 생성
3. 변경사항 커밋
4. Pull Request 제출

## 📄 라이선스

MIT License

---

**Made with ❤️ using LangGraph**

프로젝트 문의: [이슈 생성](https://github.com/your-repo/issues)

